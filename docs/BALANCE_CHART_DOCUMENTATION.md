# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≥—Ä–∞—Ñ–∏–∫—É –±–∞–ª–∞–Ω—Å–∞ (BalanceChart)

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ì—Ä–∞—Ñ–∏–∫ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:** `src/components/BalanceChart.tsx`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:**
- `src/screens/AccountsScreen.tsx` (—Å—Ç—Ä–æ–∫–∞ 635)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ —Ñ–∞–π–ª–∞ BalanceChart.tsx

#### 1. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ç–∏–ø—ã** (—Å—Ç—Ä–æ–∫–∏ 1-20)
```typescript
const CHART_WIDTH = SCREEN_WIDTH;
const CHART_HEIGHT = 140;
const CHART_MARGIN = 15;
const SAMPLES = 60;

export type Period = '24h' | '1W' | '1M' | '3M' | '1Y' | 'ALL';
```
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –†–∞–∑–º–µ—Ä—ã –≥—Ä–∞—Ñ–∏–∫–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

#### 2. **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** (—Å—Ç—Ä–æ–∫–∏ 23-69)

##### `lerp()` - –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 23)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ü–ª–∞–≤–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏

##### `resampleToFixed()` - –ü–µ—Ä–µ—Å—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∏ 25-45)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–æ—á–µ–∫ (60) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
**–°—Ç–∞—Ç—É—Å:** –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —Ç–æ—á–µ—á–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 370)

##### `formatDate()` - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç (—Å—Ç—Ä–æ–∫–∏ 47-69)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- `24h` ‚Üí "22:30" (–≤—Ä–µ–º—è)
- `1W` ‚Üí "–ø–Ω, 28" (–¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏, —á–∏—Å–ª–æ)
- `1M/3M` ‚Üí "28 –æ–∫—Ç" (–¥–µ–Ω—å, –º–µ—Å—è—Ü)
- `1Y/ALL` ‚Üí "–æ–∫—Ç 2025" (–º–µ—Å—è—Ü, –≥–æ–¥)

---

#### 3. **–†–∞—Å—á—ë—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞** (—Å—Ç—Ä–æ–∫–∏ 96-349)

–≠—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ - —Ñ—É–Ω–∫—Ü–∏—è `realBalanceData` –≤ `useMemo`.

##### 3.1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ (—Å—Ç—Ä–æ–∫–∏ 102-130)
```typescript
switch (selectedPeriod) {
  case '24h': startDate = now - 24 * 60 * 60 * 1000; break;
  case '1W': startDate = now - 7 * 24 * 60 * 60 * 1000; break;
  ...
}
```
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –ø–µ—Ä–∏–æ–¥–∞

##### 3.2. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ (—Å—Ç—Ä–æ–∫–∏ 131-179)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –†–∞—Å—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞ —Å—á–µ—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –î–û –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–∏–æ–¥–∞
- –£—á—ë—Ç —Ç–æ–ª—å–∫–æ —Å—á–µ—Ç–æ–≤ —Å —Ñ–ª–∞–≥–æ–º `isIncludedInTotal !== false`
- –í—ã—á–∏—Ç–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –∫–∞–∂–¥–æ–≥–æ —Å—á—ë—Ç–∞

##### 3.3. –£—á—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–æ –ø–µ—Ä–∏–æ–¥–∞ (—Å—Ç—Ä–æ–∫–∏ 181-203)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –±–∞–ª–∞–Ω—Å—É –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏ –î–û –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–∏–æ–¥–∞

##### 3.4. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞ (—Å—Ç—Ä–æ–∫–∏ 205-224)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Å—á–µ—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ
- –£—á—ë—Ç —Ç–æ–ª—å–∫–æ —Å—á–µ—Ç–æ–≤ —Å `isIncludedInTotal !== false`

##### 3.5. –°–æ–∑–¥–∞–Ω–∏–µ timeline —Å–æ–±—ã—Ç–∏–π (—Å—Ç—Ä–æ–∫–∏ 226-242)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—á–µ—Ç–æ–≤ –≤ –µ–¥–∏–Ω—É—é –≤—Ä–µ–º–µ–Ω–Ω—É—é –ª–∏–Ω–∏—é

##### 3.6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 244-326)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞ —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –î–û –∏ –ü–û–°–õ–ï –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–¥–ª—è —Å—Ç—É–ø–µ–Ω—á–∞—Ç–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç

**–í–∞–∂–Ω–æ:** –ì—Ä–∞—Ñ–∏–∫ —Å–æ–∑–¥–∞—ë—Ç —Ç–æ—á–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```typescript
{ date: number, value: number }
```

##### 3.7. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å—Ç—Ä–æ–∫–∏ 328-347)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –û—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –≥—Ä–∞—Ñ–∏–∫–∞

---

#### 4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** (—Å—Ç—Ä–æ–∫–∏ 351-413)

##### 4.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ 360-370)
```typescript
const displaySeries = useMemo(() => rawData, [rawData]);
const sampledSeries = useMemo(() => displaySeries, [displaySeries]);
```
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ü–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø–µ—Ä–µ—Å—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

##### 4.2. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 373-413)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º—É–º–∞ –∏ –º–∞–∫—Å–∏–º—É–º–∞ –∑–Ω–∞—á–µ–Ω–∏–π
- –†–∞—Å—á—ë—Ç –º–∞—Å—à—Ç–∞–±–∞ –ø–æ Y (—Å –æ—Ç—Å—Ç—É–ø–∞–º–∏ 15%)
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ

**–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- –ö–æ–≥–¥–∞ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è = 0: `minValCalc = 0, maxValCalc = 1000` (—Å—Ç—Ä–æ–∫–∏ 391-394)
- –ö–æ–≥–¥–∞ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è padding 15% (—Å—Ç—Ä–æ–∫–∞ 396)
- –î–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π: –≥—Ä–∞—Ñ–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —á—É—Ç—å –Ω–∏–∂–µ –Ω—É–ª—è (—Å—Ç—Ä–æ–∫–∞ 400)

---

#### 5. **–ê–Ω–∏–º–∞—Ü–∏—è –∏ –º–æ—Ä—Ñ–∏–Ω–≥** (—Å—Ç—Ä–æ–∫–∏ 354-425)

##### 5.1. Shared Values –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 354-357)
```typescript
const prevPts = useSharedValue<{ x: number; y: number }[]>([]);
const currPts = useSharedValue<{ x: number; y: number }[]>([]);
const morphProgress = useSharedValue(1);
```
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏ —Ç–µ–∫—É—â–∏—Ö —Ç–æ—á–µ–∫ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –º–æ—Ä—Ñ–∏–Ω–≥–∞

##### 5.2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ 358-372)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ shared values –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏ –º–æ—Ä—Ñ–∏–Ω–≥–∞ (450ms)

##### 5.3. Worklet —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 375-390)
**–û—Ç–≤–µ—á–∞—é—Ç –∑–∞:** –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SVG –ø—É—Ç–µ–π –¥–ª—è –ª–∏–Ω–∏–∏ –∏ –∑–∞–ª–∏–≤–∫–∏ (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ UI –ø–æ—Ç–æ–∫–µ)

##### 5.4. –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–∏ (—Å—Ç—Ä–æ–∫–∏ 404-422)
**–û—Ç–≤–µ—á–∞—é—Ç –∑–∞:**
- –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º–∏ –∏ –Ω–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
- –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–∏–Ω–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤

---

#### 6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å–∞–Ω–∏–π** (—Å—Ç—Ä–æ–∫–∏ 425-511)

##### 6.1. handleTouch() (—Å—Ç—Ä–æ–∫–∏ 425-503)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏
- –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ —Ç–æ—á–∫–∞–º–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ tooltip —Å –±–∞–ª–∞–Ω—Å–æ–º

##### 6.2. PanResponder (—Å—Ç—Ä–æ–∫–∏ 505-511)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –û–±—Ä–∞–±–æ—Ç–∫—É –∂–µ—Å—Ç–æ–≤ –∫–∞—Å–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–∞–ª—å—Ü–∞ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É

---

#### 7. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 513-523)

```typescript
const handlePeriodChange = (period: Period) => {
  if (currPts.value.length) {
    prevPts.value = currPts.value.slice();
    morphProgress.value = 0;
  }
  setSelectedPeriod(period);
};
```
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Ç–æ—á–µ–∫ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –º–æ—Ä—Ñ–∏–Ω–≥–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- **–ë–ï–ó opacity –∞–Ω–∏–º–∞—Ü–∏–π** (—á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –º–µ—Ä—Ü–∞–Ω–∏—è)

---

#### 8. **–û—Ç—Ä–∏—Å–æ–≤–∫–∞ SVG** (—Å—Ç—Ä–æ–∫–∏ 525-580)

##### 8.1. –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã (—Å—Ç—Ä–æ–∫–∏ 528-537)
**–û—Ç–≤–µ—á–∞—é—Ç –∑–∞:** –°–æ–∑–¥–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤—ã—Ö –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –ª–∏–Ω–∏–∏ –∏ –∑–∞–ª–∏–≤–∫–∏

##### 8.2. –ó–∞–ª–∏–≤–∫–∞ –ø–æ–¥ –≥—Ä–∞—Ñ–∏–∫–æ–º (—Å—Ç—Ä–æ–∫–∞ 540)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –ø–æ–¥ –ª–∏–Ω–∏–µ–π –≥—Ä–∞—Ñ–∏–∫–∞

##### 8.3. –õ–∏–Ω–∏—è –Ω—É–ª—è (—Å—Ç—Ä–æ–∫–∏ 543-547)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ü—É–Ω–∫—Ç–∏—Ä–Ω—É—é –ª–∏–Ω–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –Ω—É–ª–µ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞

##### 8.4. –û—Å–Ω–æ–≤–Ω–∞—è –ª–∏–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 550)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–∏–Ω–∏—é –±–∞–ª–∞–Ω—Å–∞ —Å –ø–ª–∞–≤–Ω—ã–º–∏ –∏–∑–≥–∏–±–∞–º–∏ (curveBasis)

##### 8.5. –ü–æ—Å–ª–µ–¥–Ω—è—è —Ç–æ—á–∫–∞ —Å –ø—É–ª—å—Å–∞—Ü–∏–µ–π (—Å—Ç—Ä–æ–∫–∏ 553-559)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ê–Ω–∏–º–∞—Ü–∏—é –ø—É–ª—å—Å–∏—Ä—É—é—â–µ–≥–æ –∫—Ä—É–∂–∫–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–µ

##### 8.6. Tooltip –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 562-570)
**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å –±–∞–ª–∞–Ω—Å–æ–º –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º

---

#### 9. **–°–µ–ª–µ–∫—Ç–æ—Ä –ø–µ—Ä–∏–æ–¥–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 575-580)

**–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:** –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏ (24h, 1W, 1M, 3M, 1Y, ALL)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. **src/screens/AccountsScreen.tsx**
**–°—Ç—Ä–æ–∫–∞ 635:**
```typescript
<BalanceChart />
```
**–°–≤—è–∑—å:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ —Å—á–µ—Ç–æ–≤

---

### 2. **src/context/DataContext.tsx**
**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `transactions` - –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `accounts` - –≤—Å–µ —Å—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°–≤—è–∑—å:** –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –±–∞–ª–∞–Ω—Å–∞

---

### 3. **src/context/CurrencyContext.tsx**
**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `formatAmount()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É–º–º
- `defaultCurrency` - –≤–∞–ª—é—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–°–≤—è–∑—å:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É–º–º –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

---

### 4. **src/context/ThemeContext.tsx**
**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `colors` - —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- `isDark` - —Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞

**–°–≤—è–∑—å:** –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ–¥ —Ç–µ–∫—É—â—É—é —Ç–µ–º—É

---

### 5. **src/context/LocalizationContext.tsx**
**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `t()` - –ø–µ—Ä–µ–≤–æ–¥—ã —Ç–µ–∫—Å—Ç–æ–≤

**–°–≤—è–∑—å:** –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –ø–æ–¥–ø–∏—Å–µ–π

---

## üìä –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –±–∞–ª–∞–Ω—Å–∞

### –§–æ—Ä–º—É–ª–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞:

```
–ë–∞–ª–∞–Ω—Å –Ω–∞ –º–æ–º–µ–Ω—Ç T =
  –ù–∞—á–∞–ª—å–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã —Å—á–µ—Ç–æ–≤ (—Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥–æ –ø–µ—Ä–∏–æ–¥–∞)
  + –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ –ø–µ—Ä–∏–æ–¥–∞ (income - expense)
  + –ù–∞—á–∞–ª—å–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã —Å—á–µ—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ –ø–µ—Ä–∏–æ–¥–µ
  + –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ø–µ—Ä–∏–æ–¥–µ (income - expense)
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—á–µ—Ç–æ–≤:

–£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ** —Å—á–µ—Ç–∞ —Å `isIncludedInTotal !== false`:
- ‚úÖ –û–±—ã—á–Ω—ã–µ —Å—á–µ—Ç–∞ (–∫–∞—Ä—Ç—ã, –Ω–∞–ª–∏—á–Ω—ã–µ, –±–∞–Ω–∫)
- ‚úÖ –°—á–µ—Ç–∞ —Å `isIncludedInTotal = true`
- ‚ùå –¶–µ–ª–∏ (savings —Å `isIncludedInTotal = false`)
- ‚ùå –°—á–µ—Ç–∞ —Å `isIncludedInTotal = false`

---

## üé® –ê–Ω–∏–º–∞—Ü–∏—è

### –ú–æ—Ä—Ñ–∏–Ω–≥ –ª–∏–Ω–∏–∏ (–±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è):

1. **handlePeriodChange()** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ç–æ—á–∫–∏ –≤ `prevPts`
2. **useMemo** –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
3. **useEffect** (—Å—Ç—Ä–æ–∫–∞ 358) –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é:
   - `morphProgress: 0 ‚Üí 1` (450ms)
4. **useDerivedValue** (—Å—Ç—Ä–æ–∫–∏ 406-419) –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ—Ç —Ç–æ—á–∫–∏:
   - `interpolate(progress, [0,1], [prevPoint, newPoint])`
5. –õ–∏–Ω–∏—è –ø–ª–∞–≤–Ω–æ –º–µ–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –±–µ–∑ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

### –ü—É–ª—å—Å–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏:

- –û–±—ã—á–Ω—ã–π `setInterval` (—Å—Ç—Ä–æ–∫–∏ 85-94)
- `pulseScale: 1 ‚Üí 2 ‚Üí 1` (–ø–µ—Ä–∏–æ–¥ ~50ms)
- **–ë–µ–∑ reanimated** (—á—Ç–æ–±—ã –Ω–µ –º–µ—Ä—Ü–∞–ª–æ)

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤ –≤—ã–≤–æ–¥—è—Ç—Å—è:

1. `üìä [BalanceChart] –ü–µ—Ä–µ—Å—á–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–∏–æ–¥–∞` - –Ω–∞—á–∞–ª–æ —Ä–∞—Å—á—ë—Ç–∞
2. `üìÖ [BalanceChart] –ü–µ—Ä–∏–æ–¥` - –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞
3. `üí∞ [BalanceChart] –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å—á—ë—Ç–∞` - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—á—ë—Ç–∞
4. `üíµ [BalanceChart] –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞ –Ω–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞` - —Å—É–º–º–∞—Ä–Ω—ã–π
5. `üìù [BalanceChart] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –î–û –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–∏–æ–¥–∞` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
6. `üè¶ [BalanceChart] –°—á–µ—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–∏–æ–¥–µ` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
7. `üìä [BalanceChart] –î–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∞ (—Ç–æ—á–µ—á–Ω—ã–π)` - —Å–≤–æ–¥–∫–∞
8. `üîç [BalanceChart] –ü–µ—Ä–≤—ã–µ 5 —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞` - –¥–µ—Ç–∞–ª–∏
9. `üîç [BalanceChart] –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ç–æ—á–µ–∫ –≥—Ä–∞—Ñ–∏–∫–∞` - –¥–µ—Ç–∞–ª–∏
10. `üìê [BalanceChart] –ú–∞—Å—à—Ç–∞–± –≥—Ä–∞—Ñ–∏–∫–∞` - min/max –∑–Ω–∞—á–µ–Ω–∏—è

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ—á–µ–∫:
**–°—Ç—Ä–æ–∫–∞ 15:** `const SAMPLES = 60`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –≥—Ä–∞—Ñ–∏–∫–∞:
**–°—Ç—Ä–æ–∫–∞ 13:** `const CHART_HEIGHT = 140`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–æ–≤:
**–°—Ç—Ä–æ–∫–∞ 14:** `const CHART_MARGIN = 15`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏:
**–°—Ç—Ä–æ–∫–∞ 370:** `withTiming(1, { duration: 450 })`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤:
**–°—Ç—Ä–æ–∫–∞ 17:** `export type Period = '24h' | '1W' | '1M' | '3M' | '1Y' | 'ALL'`

---

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ì—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–∏–æ–¥–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:** –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å—Ç–∞—Ä—à–µ —Å–∞–º–æ–≥–æ –¥–ª–∏–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

### –û—à–∏–±–∫–∞ "invalid number formatting character"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å `toLocaleString()` –Ω–∞ Android

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç (—Å—Ç—Ä–æ–∫–∏ 47-69)

---

### –õ–∏–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–µ –≤–Ω–∏–∑—É –ø—Ä–∏ –Ω—É–ª–µ–≤–æ–º –±–∞–ª–∞–Ω—Å–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç—Ä–æ–∫–∞—Ö 391-394 (`minValCalc = 0` –¥–ª—è –Ω—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π)

---

### –ì—Ä–∞—Ñ–∏–∫ –º–µ—Ä—Ü–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:** Opacity –∞–Ω–∏–º–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–æ—Ä—Ñ–∏–Ω–≥ –ø—É—Ç–µ–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2025-10-30
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –¥–ª—è Android (—Ä—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `isIncludedInTotal`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ —Å 1 —Ç–æ—á–∫–æ–π
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- **react-native-svg** - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ SVG –≥—Ä–∞—Ñ–∏–∫–∞
- **react-native-reanimated** - –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- **d3-shape** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–ª–∞–≤–Ω—ã—Ö –∫—Ä–∏–≤—ã—Ö (curveBasis)

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- [React Native Reanimated](https://docs.swmansion.com/react-native-reanimated/)
- [React Native SVG](https://github.com/software-mansion/react-native-svg)
- [D3 Shape](https://github.com/d3/d3-shape)
