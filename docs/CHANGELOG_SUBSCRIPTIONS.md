# Changelog - –ú–∏–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫

## [1.0.1] - 2025-10-30

### üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å expo-iap –Ω–∞ react-native-iap

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `react-native-iap@14.4.35` - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è in-app purchases
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `react-native-nitro-modules` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è react-native-iap v14
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Kotlin –¥–æ –≤–µ—Ä—Å–∏–∏ 2.1.20 (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ react-native-iap v14)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Google Play Console
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

#### –£–¥–∞–ª–µ–Ω–æ
- ‚ùå –£–¥–∞–ª–µ–Ω `expo-iap` - —É—Å—Ç–∞—Ä–µ–≤—à–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (deprecated —Å –∞–≤–≥—É—Å—Ç–∞ 2023)
- ‚ùå –£–¥–∞–ª–µ–Ω –ø–ª–∞–≥–∏–Ω `react-native-iap` –∏–∑ app.json (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ autolinking)

#### –ò–∑–º–µ–Ω–µ–Ω–æ

**src/services/iapService.ts:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å react-native-iap v14 API
- `getSubscriptions()` ‚Üí `fetchProducts({ skus, type: 'subs' })`
- `requestSubscription()` ‚Üí `requestPurchase({ type: 'subs', request: {...} })`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã: `Subscription` ‚Üí `ProductSubscription`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–∏–ø—ã: `Purchase` —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–ª—è v14
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª—É—à–∞—Ç–µ–ª–∏ –ø–æ–∫—É–ø–æ–∫: `purchaseUpdatedListener`, `purchaseErrorListener`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫ (platform-specific)

**src/context/SubscriptionContext.tsx:**
- –û–±–Ω–æ–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤: `Subscription` ‚Üí `ProductSubscription`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: `productId` ‚Üí `id`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: `localizedPrice` ‚Üí `displayPrice`

**src/screens/SubscriptionScreen.tsx:**
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: `productId` ‚Üí `id`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: `localizedPrice` ‚Üí `displayPrice`

**app.json:**
- –û–±–Ω–æ–≤–ª–µ–Ω `kotlinVersion` —Å 2.0.21 –Ω–∞ 2.1.20
- –£–¥–∞–ª–µ–Ω –ø–ª–∞–≥–∏–Ω `react-native-iap` (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

**android/app/build.gradle:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Google Play Billing Library v8.0.0 (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ TypeScript –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å nullable –ø–æ–ª—è–º–∏ (`orderId`, `isAcknowledged`)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Android-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–∫—É–ø–∫–∏ –¥–ª—è Android –∏ iOS

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

1. **docs/GOOGLE_PLAY_SUBSCRIPTIONS_SETUP.md**
   - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ–¥–ø–∏—Å–æ–∫ –≤ Google Play Console
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤—ã—Ö –ø–ª–∞–Ω–æ–≤ (Base Plans) - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!
   - –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –†–µ—à–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

2. **docs/MIGRATION_TO_REACT_NATIVE_IAP.md**
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ API
   - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

3. **docs/README_SUBSCRIPTIONS.md**
   - –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
   - –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
   - FAQ

### ‚ö†Ô∏è Breaking Changes

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!** –î–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   npm run android
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google Play Console:**
   - –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –ø–ª–∞–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
   - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –ø–ª–∞–Ω—ã
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–¥–ø–∏—Å–∫–∏ –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å "–ê–∫—Ç–∏–≤–Ω–∞"

–ë–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑–æ–≤—ã—Ö –ø–ª–∞–Ω–æ–≤ –ø–æ–¥–ø–∏—Å–∫–∏ **–ù–ï –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å**!

### üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- **offerToken –Ω–µ –Ω–∞–π–¥–µ–Ω** - –±–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ Google Play Console
- **–ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è** - –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID
- **–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω

–†–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º —Å–º. –≤ `docs/GOOGLE_PLAY_SUBSCRIPTIONS_SETUP.md`

### üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–í–µ—Ä—Å–∏–∏:**
- react-native-iap: 14.4.35
- react-native-nitro-modules: latest
- Google Play Billing Library: 8.0.0
- Kotlin: 2.1.20

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è Google Play (2025):**
- –ú–∏–Ω–∏–º—É–º Billing Library v7+ (–º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º v8)
- –ë–∞–∑–æ–≤—ã–µ –ø–ª–∞–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- offerToken –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –Ω–∞ Android

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `docs/README_SUBSCRIPTIONS.md`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Play Console —Å–æ–≥–ª–∞—Å–Ω–æ `docs/GOOGLE_PLAY_SUBSCRIPTIONS_SETUP.md`
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏—â–∏—Ç–µ `[IAPService]`)
2. –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø–∞–ø–∫–µ `docs/`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–æ–≤—ã–µ –ø–ª–∞–Ω—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –≤ Google Play Console
