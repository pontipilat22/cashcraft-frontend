# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ü–µ–Ω –∏–∑ Google Play Console

## üêû –ü—Ä–æ–±–ª–µ–º–∞

–í —ç–∫—Ä–∞–Ω–µ –ø–æ–¥–ø–∏—Å–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã ($2, $15) –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –∏–∑ Google Play Console. –¢–∞–∫–∂–µ –ø–æ—è–≤–ª—è–ª–∞—Å—å –æ—à–∏–±–∫–∞ "IAPService –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω".

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ IAP –≤ SubscriptionScreen**
- `SubscriptionScreen` –Ω–µ –≤—ã–∑—ã–≤–∞–ª `initializeIAP()` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- `availableProducts` –æ—Å—Ç–∞–≤–∞–ª—Å—è –ø—É—Å—Ç—ã–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ü–µ–Ω—ã

### 2. **–ü–ª–æ—Ö–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –ù–µ –±—ã–ª–æ —Ñ–æ–ª–±—ç–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–ª, —á—Ç–æ —Ü–µ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ù–µ –±—ã–ª–æ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ –ø—Ä–æ—Ü–µ—Å—Å–µ

## ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è IAP –≤ SubscriptionScreen**

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ useEffect:**
```typescript
useEffect(() => {
  console.log('üîç [SubscriptionScreen] useEffect triggered');
  loadSubscriptionStatus();
  // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º IAP –µ—Å–ª–∏ –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
  initializeIAP();
}, []);
```

### 2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–∫—É–ø–æ–∫**

**–î–æ:**
```typescript
} catch (error) {
  console.error('Purchase error:', error);
  Alert.alert(t('common.error'), error instanceof Error ? error.message : t('premium.subscribeError'));
}
```

**–ü–æ—Å–ª–µ:**
```typescript
} catch (error) {
  console.error('Purchase error:', error);
  
  // –ë–æ–ª–µ–µ –¥—Ä—É–∂–µ–ª—é–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  let errorMessage = t('premium.subscribeError');
  if (error instanceof Error) {
    if (error.message.includes('IAPService –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω')) {
      errorMessage = '–°–µ—Ä–≤–∏—Å –ø–æ–∫—É–ø–æ–∫ –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.';
    } else if (error.message.includes('User cancelled')) {
      errorMessage = '–ü–æ–∫—É–ø–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.';
    } else {
      errorMessage = error.message;
    }
  }
  
  Alert.alert(t('common.error'), errorMessage);
}
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏**

**–ü–æ–∫—É–ø–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ IAP –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, –µ—Å–ª–∏ –Ω–µ—Ç - –ø—ã—Ç–∞–µ–º—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
if (availableProducts.length === 0) {
  console.log('üîÑ [SubscriptionScreen] IAP –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, –ø—ã—Ç–∞–µ–º—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å...');
  const initialized = await initializeIAP();
  if (!initialized) {
    Alert.alert(
      t('common.error'), 
      '–°–µ—Ä–≤–∏—Å –ø–æ–∫—É–ø–æ–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
    );
    return;
  }
}
```

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫:**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ IAP –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
if (availableProducts.length === 0) {
  console.log('üîÑ [SubscriptionScreen] IAP –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, –ø—ã—Ç–∞–µ–º—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å...');
  const initialized = await initializeIAP();
  if (!initialized) {
    Alert.alert(
      t('common.error'), 
      '–°–µ—Ä–≤–∏—Å –ø–æ–∫—É–ø–æ–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
    );
    return;
  }
}
```

### 4. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ü–µ–Ω**

**–î–æ–±–∞–≤–ª–µ–Ω –≤ hero section:**
```typescript
{/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ü–µ–Ω */}
{availableProducts.length === 0 && isLoading && (
  <Text style={[styles.loadingText, { color: colors.textSecondary }]}>
    –ó–∞–≥—Ä—É–∂–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã...
  </Text>
)}
```

**–°—Ç–∏–ª—å –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:**
```typescript
loadingText: {
  fontSize: 14,
  marginTop: 12,
  textAlign: 'center',
  fontStyle: 'italic',
},
```

### 5. **–õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ü–µ–Ω (—É–∂–µ –±—ã–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è)**

```typescript
const plans: SubscriptionPlan[] = React.useMemo(() => {
  const defaultPlans = [/* –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã */];

  // –ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ Google Play, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö —Ü–µ–Ω—ã
  if (availableProducts.length > 0) {
    return defaultPlans.map(plan => {
      const product = availableProducts.find(p => p.productId === plan.id);
      if (product) {
        return {
          ...plan,
          name: product.title || plan.name,
          price: product.price || plan.price,  // ‚Üê –ë–µ—Ä–µ–º —Ü–µ–Ω—É –∏–∑ Google Play
          description: [product.description || '', ...plan.description.slice(1)],
        };
      }
      return plan;
    });
  }

  return defaultPlans; // –§–æ–ª–±—ç–∫ –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ü–µ–Ω—ã
}, [availableProducts, t]);
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã $2 –∏ $15
- ‚ùå –û—à–∏–±–∫–∞ "IAPService –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"
- ‚ùå –ù–µ—Ç –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚ùå –ü–ª–æ—Ö–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** IAP –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞
- ‚úÖ **–¶–µ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ Google Play** (–∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã)
- ‚úÖ **–î—Ä—É–∂–µ–ª—é–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Ü–µ–Ω**
- ‚úÖ **–§–æ–ª–±—ç–∫ –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ü–µ–Ω—ã** –µ—Å–ª–∏ Google Play –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

## üß™ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. **–¢–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏:**
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã –≤ Google Play Console (`cashcraft_monthly`, `cashcraft_yearly`)
2. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Internal Testing
3. –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω –ø–æ–¥–ø–∏—Å–æ–∫
4. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –¶–µ–Ω—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ Google Play

### 2. **–¢–µ—Å—Ç –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
1. –û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
2. –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω –ø–æ–¥–ø–∏—Å–æ–∫  
3. **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ü–µ–Ω—ã, –¥—Ä—É–∂–µ–ª—é–±–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ

### 3. **–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω –ø–æ–¥–ø–∏—Å–æ–∫
2. –í –ø–µ—Ä–≤—ã–µ —Å–µ–∫—É–Ω–¥—ã –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–µ–∫—Å—Ç "–ó–∞–≥—Ä—É–∂–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã..."
3. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ - —Ü–µ–Ω—ã –∏–∑ Google Play –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ

## üìã –ü–æ—Ç–æ–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω

```
1. –û—Ç–∫—Ä—ã—Ç–∏–µ SubscriptionScreen
   ‚Üì
2. useEffect –≤—ã–∑—ã–≤–∞–µ—Ç initializeIAP()
   ‚Üì
3. IAPService.initialize()
   ‚Üì
4. InAppPurchases.getProductsAsync(['cashcraft_monthly', 'cashcraft_yearly'])
   ‚Üì
5. availableProducts –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ SubscriptionContext
   ‚Üì
6. useMemo –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç plans —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
   ‚Üì
7. UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `src/screens/SubscriptionScreen.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Google Play Console

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

1. **–ü—Ä–æ–¥—É–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã** —Å ID: `cashcraft_monthly`, `cashcraft_yearly`
2. **–¶–µ–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã** –¥–ª—è –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
3. **–°—Ç–∞—Ç—É—Å "–ê–∫—Ç–∏–≤–Ω–æ"** –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ** –≤ Internal Testing –∏–ª–∏ –≤—ã—à–µ

---

**–°—Ç–∞—Ç—É—Å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. –¶–µ–Ω—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ Google Play Console –∫–æ–≥–¥–∞ –ø—Ä–æ–¥—É–∫—Ç—ã –±—É–¥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.
